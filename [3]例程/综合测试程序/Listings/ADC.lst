C51 COMPILER V9.59.0.0   ADC                                                               01/10/2025 15:11:52 PAGE 1   


C51 COMPILER V9.59.0.0, COMPILATION OF MODULE ADC
OBJECT MODULE PLACED IN .\Objects\ADC.obj
COMPILER INVOKED BY: D:\Keil5\Keil5.38\C51\BIN\C51.EXE ADC.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listing
                    -s\ADC.lst) TABS(2) OBJECT(.\Objects\ADC.obj)

line level    source

   1          //#include "stc12.h"
   2          //#include <intrins.h>
   3          
   4          //  
   5          //sbit LED_CHOICE = P2^3;
   6          //sbit SEG_CHOICE = P2^4;
   7          
   8          //sbit CS=P4^5;
   9          //sbit CLK=P4^1;
  10          //sbit DOUT=P4^3;
  11          //unsigned char code SegCode[]={0xC0,0xF9,0xA4,0xB0,0x99,0x92,0x82,0xF8,0x80,0x90};//共阴极段码0~9
  12          //unsigned char code BitCode[]={0x08,0x04,0x02,0x01}; //位码:P0口“1”
  13          //                                            //有效
  14          //unsigned char DispBuf[4];               //显示缓冲区
  15          //unsigned int Volt;
  16          //void delay_ADC (unsigned int ms)
  17          //{
  18          //    unsigned int i, j;
  19          //    for (i = ms; i > 0; i--)
  20          //    for (j = 113; j > 0; j--);
  21          //}
  22          
  23          
  24          //unsigned char TLC549_ADC(void)
  25          //{
  26          //  unsigned char i,temp=0;
  27          //  CS=1;
  28          //  CLK =0;
  29          //  CS=0;
  30          //  _nop_();
  31          //  _nop_();
  32          //  for(i=0;i<8;i++)
  33          //  {
  34          //    temp=temp<<1;
  35          //    if (DOUT == 1) temp|=0x01;
  36          //    CLK=1;
  37          //    _nop_();
  38          //    _nop_();
  39          //    CLK =0;
  40          //    _nop_();
  41          //  }
  42          //  _nop_();
  43          //  _nop_();
  44          //  CS =1;
  45          //  return(temp);
  46          //  
  47          //}
  48          
  49          
  50          
  51          //void AD_Buff()        //AD转换值送显示缓冲区(BCD码)
  52          //{
  53          //  DispBuf[3]= Volt /1000;   //千位
  54          //  DispBuf[2]= (Volt/100)%10;  //百位
C51 COMPILER V9.59.0.0   ADC                                                               01/10/2025 15:11:52 PAGE 2   

  55          //  DispBuf[1]= (Volt /10)%10;  //十位
  56          //  DispBuf[0]= Volt %10;     //个位
  57          //}
  58          
  59          //void Display()
  60          //{
  61          
  62          //  unsigned char i;
  63          //  SEG_CHOICE=1;
  64          //  P0=0xff;
  65          //  for(i=0;i<4;i++)
  66          //  {
  67          //    if(i==3)
  68          //    {
  69          //      SEG_CHOICE=1;
  70          //      P0=SegCode[DispBuf[i]]&0x7f;
  71          //      SEG_CHOICE=0;
  72          //      P0=BitCode[i];
  73          //      delay_ADC(10);
  74          //    }
  75          //    else
  76          //    {
  77          //      SEG_CHOICE=1;
  78          //      P0=SegCode[DispBuf[i]];
  79          //      SEG_CHOICE=0;
  80          //      P0=BitCode[i];
  81          //      delay_ADC(10);
  82          //    }
  83          //  }
  84          //  
  85          //}
  86          
  87          ////void main(void)
  88          ////{ 
  89          ////  unsigned char ad;
  90          ////  P4SW|=0Xff;
  91          ////  P0=0xff;
  92          ////  LED_CHOICE=1;
  93          ////  LED_CHOICE=0;
  94          ////  while(1)
  95          ////  {
  96          ////    ad=TLC549_ADC();
  97          ////    Volt=5*ad/256.0*1000.0;
  98          ////    AD_Buff();
  99          ////    Display();
 100          ////  }
 101          ////    
 102          ////}


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =   ----    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
